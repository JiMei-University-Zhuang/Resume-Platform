import{d as E,r as i,a as R,w as I,c as w,b as m,e as o,f as l,g as d,o as _,h as p,u as $,E as A,_ as M}from"./index-DskgrHGg.js";const j={class:"login-container"},z={key:0,class:"login-box"},D=["src"],G={key:1,class:"register-box"},H={class:"account-tip"},J=E({__name:"Login",setup(K){const U=$(),b=i(),u=R({username:"",password:"",captcha:""}),q={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"}]},v=i(),t=R({username:"",password:"",confirmPassword:""}),F={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"change"},{validator:(r,e,n,a)=>{e!==a.password?n(new Error("两次输入的密码不一致!")):n()},trigger:"change"}]},f=i(!1),V=i(""),P=()=>{V.value="https://www.baidu.com/img/bd_logo1.png"},y=i("account"),L=async r=>{r&&await r.validate(e=>{e&&(f.value=!0,setTimeout(()=>{f.value=!1,U.push("/dashboard")},1e3))})},T=async r=>{r&&await r.validate(e=>{e&&(A.success("注册成功，请登录！"),setTimeout(()=>{k()},1500))})},g=i(!0),B=()=>{g.value=!1},k=()=>{g.value=!0};return I(g,r=>{r||(t.username="",t.password="",t.confirmPassword="")}),(r,e)=>{const n=d("el-input"),a=d("el-form-item"),c=d("el-button"),C=d("el-form"),x=d("el-tab-pane"),N=d("el-tabs"),h=d("el-link");return _(),w("div",j,[g.value?(_(),w("div",z,[e[12]||(e[12]=m("h2",null,"AI管理平台",-1)),o(N,{modelValue:y.value,"onUpdate:modelValue":e[4]||(e[4]=s=>y.value=s),class:"login-tabs"},{default:l(()=>[o(x,{label:"账号登录",name:"account"},{default:l(()=>[o(C,{ref_key:"loginFormRef",ref:b,model:u,rules:q,class:"login-form"},{default:l(()=>[o(a,{prop:"username",label:"用户名:"},{default:l(()=>[o(n,{modelValue:u.username,"onUpdate:modelValue":e[0]||(e[0]=s=>u.username=s),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),o(a,{prop:"password",label:"密码: "},{default:l(()=>[o(n,{modelValue:u.password,"onUpdate:modelValue":e[1]||(e[1]=s=>u.password=s),type:"password",placeholder:"请输入密码","show-password":""},null,8,["modelValue"])]),_:1}),o(a,{label:"验证码:",prop:"captcha",class:"captcha-form-item"},{default:l(()=>[o(n,{modelValue:u.captcha,"onUpdate:modelValue":e[2]||(e[2]=s=>u.captcha=s),placeholder:"请输入验证码",class:"captcha-input"},null,8,["modelValue"]),m("img",{src:V.value,title:"点击切换验证码",onClick:P,class:"captcha-img"},null,8,D)]),_:1}),o(a,null,{default:l(()=>[o(c,{type:"primary",loading:f.value,class:"login-button",onClick:e[3]||(e[3]=s=>L(b.value))},{default:l(()=>e[9]||(e[9]=[p(" 登录 ")])),_:1},8,["loading"]),o(c,{class:"login-button",onClick:B,style:{"margin-left":"0"}},{default:l(()=>e[10]||(e[10]=[p(" 注册 ")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),o(x,{label:"人脸登录",name:"face"},{default:l(()=>e[11]||(e[11]=[m("div",{class:"face-login-container"},[m("p",null,"预留口子")],-1)])),_:1})]),_:1},8,["modelValue"])])):(_(),w("div",G,[e[16]||(e[16]=m("h2",null,"新用户注册",-1)),o(C,{class:"register-form",ref_key:"registerFormRef",ref:v,model:t,rules:F},{default:l(()=>[o(a,{prop:"username",label:"用户名: "},{default:l(()=>[o(n,{modelValue:t.username,"onUpdate:modelValue":e[5]||(e[5]=s=>t.username=s),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),o(a,{prop:"password",label:"密码:  "},{default:l(()=>[o(n,{modelValue:t.password,"onUpdate:modelValue":e[6]||(e[6]=s=>t.password=s),type:"password",placeholder:"请输入密码","show-password":""},null,8,["modelValue"])]),_:1}),o(a,{prop:"confirmPassword",label:"确认密码:"},{default:l(()=>[o(n,{modelValue:t.confirmPassword,"onUpdate:modelValue":e[7]||(e[7]=s=>t.confirmPassword=s),type:"password",placeholder:"请再次输入密码","show-password":""},null,8,["modelValue"])]),_:1}),o(a,null,{default:l(()=>[o(c,{type:"primary",class:"login-button",id:"register",onClick:e[8]||(e[8]=s=>T(v.value))},{default:l(()=>e[13]||(e[13]=[p(" 注册 ")])),_:1})]),_:1}),o(a,null,{default:l(()=>[m("span",H,[e[15]||(e[15]=p(" 已有账号？ ")),o(h,{type:"primary",class:"back-to-login",onClick:k},{default:l(()=>e[14]||(e[14]=[p(" 立即登录 ")])),_:1})])]),_:1})]),_:1},8,["model"])]))])}}}),Q=M(J,[["__scopeId","data-v-114bbb25"]]);export{Q as default};
